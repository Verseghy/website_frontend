<ng-container *ngIf="posts$ | async as posts">
  <ng-container *ngIf="posts.length">
    <div class="cards">
      <a class="card" *ngFor="let post of posts" [routerLink]="['/posts/' + post.id]" [@animate]="animate">
        <div class="label-container">
          <verseghy-label
            *ngFor="let label of post.labels"
            [label]="label"
            [ngClass]="{ dark: label.backgroundDark }"
            [ngStyle]="{ 'background-color': label.color }"
          ></verseghy-label>
        </div>
        <div class="meta">
          <div class="author">
            <img *ngIf="post.author.image" [src]="post.author.image" alt="" />
            <span>{{ post.author.name }}</span>
          </div>
          <span class="date">Közzétéve: {{ formatDate(post.date) }}</span>
        </div>
        <h2>{{ post.title }}</h2>
        <p class="description">{{ post.description }}</p>
        <a [routerLink]="['/posts/' + post.id]" class="read-more">Tovább</a>
        <img [src]="post.index_image" alt="" class="index-img" />
      </a>
    </div>
    <div class="nav">
      <i (click)="previous()" class="material-icons">navigate_before</i>
      <ng-container *ngIf="featuredPosts$ | async as featuredPosts">
        <span
          class="dot"
          *ngFor="let a of featuredPosts; let i = index"
          [class]="{ active: i % featuredPosts.length === page }"
          (click)="toPage(i)"
        >
          <span class="inner"></span>
        </span>
      </ng-container>
      <i (click)="next()" class="material-icons">navigate_next</i>
    </div>
  </ng-container>
  <ng-container *ngIf="!posts.length"> </ng-container>
</ng-container>
